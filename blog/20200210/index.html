<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png"><link rel="icon" type="image/png" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content=""><meta name="author" content="Regnover"><meta name="keywords" content=""><title>C++ 04 ~ Regnover</title><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.10.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.8.7/css/mdb.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css"><link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="/css/main.css"><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><style type="text/css">.banner-bg{background-image:url(/img/33.png);background-position:center;background-repeat:repeat-y;background-size:cover;background-attachment:fixed}</style><meta name="generator" content="Hexo 4.2.0"></head><body class="banner-bg"><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>Regnover</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/">首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/">归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/">分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/">标签</a></li><li class="nav-item"><a class="nav-link" href="/about/">关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2 rgba-black-slight" id="background"><div class="full-bg-img"><div class="mask flex-center"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span><br><p class="mt-3"><i class="far fa-calendar-alt"></i> <span class="post-date">2020-02-10&nbsp;|&nbsp;</span> <i class="far fa-chart-bar"></i> <span class="post-count">2.9k</span>字&nbsp;|&nbsp; <i class="far fa-clock"></i> <span class="post-count">10</span>分钟 <span id="busuanzi_container_page_pv" style="display:none">&nbsp;|&nbsp; <i class="far fa-eye"></i> <span id="busuanzi_value_page_pv"></span>次</span></p></div></div></div></div></header><main id="mainContent" class="rgba-black-slight"><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="py-5 z-depth-3" id="board"><div class="post-content mx-auto" id="post"><div class="markdown-body"><p>第七章 继承性与派生类<br>第八章 多态性与虚函数</p><a id="more"></a><h1 id="第七章-继承性与派生类"><a href="#第七章-继承性与派生类" class="headerlink" title="第七章 继承性与派生类"></a>第七章 继承性与派生类</h1><h2 id="7-1-继承性与派生类的基本概念"><a href="#7-1-继承性与派生类的基本概念" class="headerlink" title="7.1 继承性与派生类的基本概念"></a>7.1 继承性与派生类的基本概念</h2><p>继承是软件复用的一种形式，它是从现有类的基础上建立新类，新类继承了现有类的属性和方法，<br>并且还拥有其特有的属性和方法。继承的过程称为派生，新建的类为派生类（或子类），原有的类称为基类（或父类）。<br>继承可分为：单继承和多重继承。若派生类只有一个基类则称为单继承；若派生类有多个基类则称为多重继承。</p><h2 id="7-2-派生类的声明与访问权限"><a href="#7-2-派生类的声明与访问权限" class="headerlink" title="7.2 派生类的声明与访问权限"></a>7.2 派生类的声明与访问权限</h2><h3 id="7-2-1-派生类的声明"><a href="#7-2-1-派生类的声明" class="headerlink" title="7.2.1    派生类的声明"></a>7.2.1 派生类的声明</h3><p>单继承中派生类的定义格式为：</p><pre><code>class &lt;派生类名&gt;：&lt;派生方式&gt;&lt;基类名&gt;
{
派生类新定义的成员声明；
}；</code></pre><h3 id="7-2-2-派生类的访问权限"><a href="#7-2-2-派生类的访问权限" class="headerlink" title="7.2.2    派生类的访问权限"></a>7.2.2 派生类的访问权限</h3><p>公有继承（public）、私有继承（private）、保护继承（protected）</p><h2 id="7-3-派生类构造函数和析构函数的定义及使用"><a href="#7-3-派生类构造函数和析构函数的定义及使用" class="headerlink" title="7.3    派生类构造函数和析构函数的定义及使用"></a>7.3 派生类构造函数和析构函数的定义及使用</h2><p>在派生过程中，构造函数和析构函数不被继承。在创建一个派生类对象时，分别调用基类和派生类的构造函数，<br>完成各自成员的初始化工作。当撤销一个派生类对象时，分别调用基类和派生类的析构函数完成善后处理工作。</p><ul><li>在 C++中对构造函数与析构函数的调用顺序有如下规定：<br>对于构造函数，先执行基类的，再执行对象成员的，最后执行派生类的。<br>对于析构函数，先执行派生类的，再执行对象成员的，最后执行基类的。</li><li>派生类构造函数定义格式为：<pre><code>&lt;派生类名&gt;::&lt;派生类名&gt;(参数总表):基类名(参数表),对象成员名 1(参数表 1),…,对象成员名 n(参数表 n)
{
//派生类新增成员的初始化语句
}</code></pre></li></ul><h2 id="7-4-多重继承的声明、构造函数和析构函数的定义及使用"><a href="#7-4-多重继承的声明、构造函数和析构函数的定义及使用" class="headerlink" title="7.4    多重继承的声明、构造函数和析构函数的定义及使用"></a>7.4 多重继承的声明、构造函数和析构函数的定义及使用</h2><h3 id="7-4-1-多重继承的声明"><a href="#7-4-1-多重继承的声明" class="headerlink" title="7.4.1    多重继承的声明"></a>7.4.1 多重继承的声明</h3><p>多重继承声明的格式为：</p><pre><code>class &lt;派生类名&gt;：&lt;派生方式 1&gt;&lt;基类名 1&gt;,…,&lt;派生方式 n&gt;&lt;基类名 n&gt;
{
派生类成员声明；
};</code></pre><p>说明：这里的派生方式以及访问权限定义与单继承中规则相同。</p><h3 id="7-4-2-多重继承的构造函数与析构函数"><a href="#7-4-2-多重继承的构造函数与析构函数" class="headerlink" title="7.4.2    多重继承的构造函数与析构函数"></a>7.4.2 多重继承的构造函数与析构函数</h3><ul><li>多重继承中对构造函数和析构函数的调用顺序的规定：<br>对于构造函数，先执行基类的，再执行对象成员的，最后执行派生类的。<br>多个基类构造函数的执行次序严格按照声明时从左到右的顺序来执行的，与定义派生类构造函数时指定的初始化表中的次序无关。<br>多个对象成员所在类的构造函数的执行次序按照对象成员定义的顺序来执行。<br>析构函数的调用顺序正好与构造函数的调用顺序相反。</li><li>定义多重继承构造函数的格式为：<pre><code>&lt;派生类名&gt;::&lt;派生类名&gt;(参数总表):基类名 1(参数表 1),…,基类名 n(参数表 n),对象成员名 1(对象成员参数表 1),…,对象成员名 m(对象成员参数表 m)
{
//派生类新增成员的初始化语句
}</code></pre>说明：单继承中构造函数定义的说明在多重继承构造函数中均适用。</li></ul><h2 id="7-5-虚基类的作用、定义和使用"><a href="#7-5-虚基类的作用、定义和使用" class="headerlink" title="7.5    虚基类的作用、定义和使用"></a>7.5 虚基类的作用、定义和使用</h2><h3 id="7-5-1-多重继承中的二义性问题"><a href="#7-5-1-多重继承中的二义性问题" class="headerlink" title="7.5.1    多重继承中的二义性问题"></a>7.5.1 多重继承中的二义性问题</h3><p>问题的产生：</p><ol><li>当派生类继承的多个基类中存在同名成员时，派生类中就会出现来自不同基类的同名成员，<br>就出现了标识符不唯一或二义性的情况，这在程序中是不允许的。</li><li>当一个类从多个基类派生而来，这多个基类又有共同的基类，则在派生类中访问这个共同基类中的成员时会产生二义性。<br>解决办法：<br>对于第一种情况：</li><li>使用作用域运算符“::”</li><li>使用同名覆盖的原则</li><li>使用虚函数(在下一章中介绍)<br>对于第二种情况：<br>使用虚基类</li></ol><h3 id="7-5-2-虚基类"><a href="#7-5-2-虚基类" class="headerlink" title="7.5.2 虚基类"></a>7.5.2 虚基类</h3><p><img src="/img/C++7_5_2.png" srcset="/img/loading.gif" alt="C++7_5_2"><br>如上图所示，对于非虚基类的情况，derived 有两个基类 base1 和 base2，这两个基类又有共同基类 base，<br>derived 类中就有基类 base 的两个不同的拷贝。在 derived 要访问 base 类中的成员时，就会产生二义性问题。<br>虚基类就是为了解决这个问题而引入的。<br>对于虚基类的情况，derived 中的公共基类 base 就只有一个拷贝而不会出现二义性问题。</p><h3 id="7-5-3-虚基类的定义"><a href="#7-5-3-虚基类的定义" class="headerlink" title="7.5.3 虚基类的定义"></a>7.5.3 虚基类的定义</h3><p>虚基类的声明是在派生类的声明过程中进行的，格式为：<br>class&lt;派生类名&gt;:virtual &lt;派生方式&gt;&lt;基类名&gt;<br>说明：</p><ol><li>虚基类关键字的作用范围和派生方式与一般派生类的一样，只对紧跟其后的基类起作用。</li><li>声明了虚基类以后，虚基类的成员在进一步派生过程中和派生类一起维护同一个内存拷贝。</li></ol><h3 id="7-5-4-虚基类的构造函数和初始化"><a href="#7-5-4-虚基类的构造函数和初始化" class="headerlink" title="7.5.4 虚基类的构造函数和初始化"></a>7.5.4 虚基类的构造函数和初始化</h3><p>虚基类的初始化与一般的多继承的初始化在语法上是一样的，但构造函数的执行顺序不同：</p><ol><li>虚基类的构造函数在非虚基类的构造函数之前执行。</li><li>若同一层次中包含多个虚基类，这些虚基类的构造函数按它们说明的先后次序执行。</li><li>若虚基类由非虚基类派生而来，则仍然先执行基类的构造函数，再执行派生类的构造函数。</li></ol><h1 id="第八章-多态性与虚函数"><a href="#第八章-多态性与虚函数" class="headerlink" title="第八章 多态性与虚函数"></a>第八章 多态性与虚函数</h1><h2 id="8-1-多态性的概念"><a href="#8-1-多态性的概念" class="headerlink" title="8.1    多态性的概念"></a>8.1 多态性的概念</h2><p>在面向对象的概念中，多态性是指不同对象接收到相同消息时，根据对象类的不同产生不同的动作。<br>由静态联编支持的多态性称为编译时的多态性或静态多态性，也就是说，确定同名操作的具体操作对象的过程是<br>在编译过程中完成的。C++用函数重载和运算符重载来实现编译时的多态性。<br>由动态联编支持的多态性称为运行时的多态性活动或动态多态性，<br>也就是说，确定同名操作的具体操作对象的过程是在运行过程中完成的。C++用继承和虚函数来实现运行时的多态性。</p><h2 id="8-2-函数和运算符的重载"><a href="#8-2-函数和运算符的重载" class="headerlink" title="8.2 函数和运算符的重载"></a>8.2 函数和运算符的重载</h2><h3 id="8-2-1-函数重载"><a href="#8-2-1-函数重载" class="headerlink" title="8.2.1 函数重载"></a>8.2.1 函数重载</h3><p>面向对象程序设计中，函数的重载表现为两种情况：第一种是参数个数或类型有所差别的重载，第二种是函数的参数完全相同但属于不同的类。</p><h3 id="8-2-2-运算符重载"><a href="#8-2-2-运算符重载" class="headerlink" title="8.2.2 运算符重载"></a>8.2.2 运算符重载</h3><p>C++预定义的运算符只是对基本数据类型进行操作，而对于自定义的数据类型比如类，却没有类似的操作。<br>为了实现对自定义类型的操作，就必须自己编写程序来说明某个运算符作用在这些数据类型上时，<br>应该完成怎样的操作，这就要引入运算符重载的概念。<br>运算符的重载形式有两种，一种是重载为类的成员函数，一种是重载为类的友元函数。</p><ol><li><p>将运算符重载为它将要操作的类的成员函数，称为成员运算符函数。<br>实际使用时，总是通过该类的某个对象访问重载的运算符。<br>成员运算符函数的定义：<br>在类内声明的一般形式为：&lt;返回类型&gt; operator&lt;运算符&gt;(参数表)；<br>在类外定义的一般形式为：</p><pre><code>&lt;返回类型&gt; &lt;类名∷&gt; operator&lt;运算符&gt;(参数表)
{
函数体
}</code></pre><p>其中，operator 是定义运算符重载函数的关键字；运算符是要重载的运算符的名称；参数表给出重载运算符所需要的参数和类型。</p></li><li><p>将重载的运算符函数定义为类的友元函数，称为友元运算符函数。<br>友元运算符函数不是类的成员，它在类内声明原型，在类外定义函数本身。由于它不是类的成员函数，<br>不属于任何一个类对象，所以没有 this 指针，因此，重载双目运算符时要有两个参数，重载单目运算符时只要一个参数就可以了。<br>友员运算符函数的定义：<br>在类内声明的一般形式为：<br>friend&lt;返回类型&gt; operator&lt;运算符&gt;(参数表)；<br>在类外定义的一般形式为：</p><pre><code>&lt;返回类型&gt; operator&lt;运算符&gt;(参数表)
{
函数体
}</code></pre><p>其中，friend 是声明友元函数的关键字， operator 是定义运算符重载函数的关键字；<br>运算符是要重载的运算符的名称；参数表给出重载运算符所需要的参数和类型。</p></li><li><p>几种典型运算符的重载</p><ul><li>加法运算符“+”的重载</li><li>“++”和“–”的重载</li><li>赋值运算符“=”的重载</li><li>函数调用运算符“（）”的重载</li><li>下标运算符“[ ]”的重载</li></ul></li></ol><h2 id="8-3-虚函数和抽象类"><a href="#8-3-虚函数和抽象类" class="headerlink" title="8.3 虚函数和抽象类"></a>8.3 虚函数和抽象类</h2><p>虚函数是重载的另一种形式，实现的是动态的重载，即函数调用与函数体之间的联系是在运行时才建立，也就是动态联编。</p><h3 id="8-3-1-虚函数的定义和使用"><a href="#8-3-1-虚函数的定义和使用" class="headerlink" title="8.3.1 虚函数的定义和使用"></a>8.3.1 虚函数的定义和使用</h3><p>虚函数的定义是在基类中进行的，即把基类中需要定义为虚函数的成员函数声明为virtual。<br>当基类中的某个成员函数被声明为虚函数后，它就可以在派生类中被重新定义。<br>在派生类中重新定义时，其函数原型，包括返回类型、函数名、参数个数和类型、参数的顺序都必须与基类中的原型完全一致。<br>虚函数定义的一般形式为：</p><pre><code>virtual&lt;函数类型&gt;&lt;函数名&gt;(参数表)
{
函数体
}</code></pre><h3 id="8-3-2-纯虚函数和抽象类"><a href="#8-3-2-纯虚函数和抽象类" class="headerlink" title="8.3.2 纯虚函数和抽象类"></a>8.3.2 纯虚函数和抽象类</h3><p>抽象类是一种特殊的类，它为一族类提供统一的操作界面，建立抽象类就是为了通过它多态地使用其中的成员函数。抽象类是带有纯虚函数的类。<br>一个抽象类至少带有一个纯虚函数。纯虚函数是在一个基类中说明的虚函数，它在该基类中没有具体的操作内容，<br>要求各派生类在重新定义时根据自己的需要定义实际的操作内容。<br>纯虚函数的一般定义形式为：virtual&lt;函数类型&gt;&lt;函数名&gt;(参数表)=0；<br>纯虚函数与普通虚函数的定义的不同在于书写形式上加了“=0”，说明在基类中不用定义该函数的函数体，它的函数体由派生类定义。<br>如果一个类中至少有一个纯虚函数，这个类就成为抽象类。它的主要作用是为一个族类提供统一的公共接口，以有效地发挥多态的特性。</p><hr></div><br><div><div id="post-tag"><span><i class="iconfont icon-inbox"></i> <a class="hover-with-bg" href="/categories/%E6%96%87%E6%A1%A3">文档</a> &nbsp; </span><span><i class="iconfont icon-tag"></i> <a class="hover-with-bg" href="/tags/cpp">cpp</a></span></div><div id="post-note"><div><strong>本文作者：</strong><a href="/">Regnover</a></div><div><strong>本文链接：</strong><a href="http://regnover.xyz/blog/20200210/">http://regnover.xyz/blog/20200210/</a></div><div><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</div></div><div id="post-nav" class="container"><div class="row"><a href="/blog/20200211/" id="post-nav-prev" class="col"><i class="fas fa-arrow-left"></i> <span class="post-nav-title">C++ 05</span> </a><a href="/blog/20200209/" id="post-nav-next" class="col"><span class="post-nav-title">C++ 03</span> <i class="fas fa-arrow-right"></i></a></div></div></div></div><div class="col-lg-10 mx-auto nopadding-md"><div class="container comments mx-auto" id="comments"></div></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container"><div id="toc"><p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p><div id="tocbot"></div></div></div></div></div></main><div id="sidebar" class="sidebar-hide"><span class="sidebar-button sidebar-button-shift" id="toggle-sidebar"><i class="fa fa-arrow-right on" aria-hidden="true"></i></span><div class="sidebar-overlay"></div><div class="sidebar-intrude"><div class="sidebar-avatar"><img src="/img/avatar.jpg" srcset="/img/avatar.jpg" alt="avatar"></div><div class="text-center sidebar-about"><p class="h3 sidebar-author">Regnover</p><p class="sidebar-subtitle"></p><a href="https://github.com/Regnover" class="h4" target="_blank"><i class="fab fa-github" aria-hidden="true"></i> </a>&nbsp;&nbsp; <a href="https://twitter.com" class="h4" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i> </a>&nbsp;&nbsp; <a href="mailto:example@example.com" class="h4" target="_blank"><i class="fas fa-envelope" aria-hidden="true"></i> </a>&nbsp;&nbsp;</div><div class="sidebar-friend"><p class="h6 sidebar-friend-title"><span class="sidebar-label-left"><i class="fas fa-user-friends"></i></span> <span class="sidebar-label">友情链接</span></p><ul class="list-group"><a href="https://example.com/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; friendname</li></a></ul></div></div></div><a class="z-depth-1" id="scroll-top-button" href="#" role="button"><i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div id="footerContent" class="rgba-black-slight"><footer class="pt-5"><div class="text-center py-3"><div class="footer-theme"><a href="https://hexo.io" target="_blank" rel="nofollow noopener noreferrer">Hexo</a> theme <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener noreferrer">Fluid</a> mod by <a href="https://github.com/qixa/hexo-theme-fluid-mod" target="_blank" rel="nofollow noopener noreferrer">Julydate</a></div><div class="footer-copyright">©2020&nbsp;Regnover</div><div class="footer-siteview"><span id="busuanzi_container_site_pv" style="display:none">被瞅了<span id="busuanzi_value_site_pv"></span>次 </span><span id="busuanzi_container_site_uv" style="display:none">| 被<span id="busuanzi_value_site_uv"></span>人看爆</span></div><div class="footer-hitokoto"><a id="hitokotoa" href="#" target="_blank" rel="nofollow noopener noreferrer"><span id="hitokoto"></span></a></div></div></footer></div><script src="/lib/popper/popper.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script><script src="https://cdn.staticfile.org/mdbootstrap/4.8.7/js/mdb.min.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script src="https://cdn.staticfile.org/tocbot/4.8.1/tocbot.min.js"></script><script src="/js/post.js"></script><script src="https://cdn.staticfile.org/typed.js/2.0.9/typed.min.js"></script><script type="text/javascript">var typed=new Typed("#subtitle",{strings:["  ","C++ 04&nbsp;"],cursorChar:"_",typeSpeed:70,loop:!1});typed.stop(),$(document).ready(function(){$(".typed-cursor").addClass("h2"),typed.start()})</script><script src="https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js"></script><script type="text/javascript">anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))</script><script src="/js/local-search.js"></script><script type="text/javascript">var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){getSearchFile(path),this.onclick=null}</script><script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js"></script><script type="text/javascript">var setupFancybox=function(){$("#post img:not(.no-zoom img, img[no-zoom])").each(function(){var t=document.createElement("a");$(t).attr("data-fancybox","gallery"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)})};setupFancybox()</script><script type="text/javascript">$("img.image_random").each(function(){var n=$(this);$.get("//img.xjh.me/random_img.php?return=json",function(i,m){"success"===m&&200===i.result&&(n[0].src=i.img)})})</script><script type="text/javascript">function hitokoto(t){$("#hitokoto").stop().fadeOut(function(){$("#hitokoto").html(t.hitokoto),document.getElementById("hitokotoa").href="https://hitokoto.cn?id="+t.id,$("#hitokoto").stop().fadeIn()})}function getHitokoto(){var t=["a","b","c","d"],o=document.createElement("script");o.type="text/javascript",o.id="hitokotoko_js",o.src="//v1.hitokoto.cn/?encode=json&callback=hitokoto&charset=utf-8&cat="+t[Math.floor(Math.random()*t.length)],$("#hitokoto").append(o)}$(document).ready(function(){getHitokoto()}),setInterval(getHitokoto,1e4)</script><script async src="//cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js"></script><script type="text/javascript">$("#background").removeClass("banner-bg"),$("body").addClass("banner-bg");var postToTopHight=$("#board").offset().top;$(window).scroll(function(){var o=document.body.scrollTop+document.documentElement.scrollTop;postToTopHight<=o?($("#background").removeClass("rgba-black-slight"),$("#mainContent").removeClass("rgba-black-slight"),$("#footerContent").removeClass("rgba-black-slight")):($("#background").addClass("rgba-black-slight"),$("#mainContent").addClass("rgba-black-slight"),$("#footerContent").addClass("rgba-black-slight"))})</script><script type="text/javascript">var originalTitle=document.title;window.onblur=function(){document.title="网页崩溃了~~"},window.onfocus=function(){document.title=originalTitle}</script><script type="text/javascript">console.log("雪花效果 code by kvv.me"),function(){function n(){r.width=window.innerWidth,r.height=window.innerHeight,c=Math.round(window.innerWidth*window.innerHeight/1e4)}var r=document.createElement("canvas"),d=requestAnimationFrame||msRequestAnimationFrame||function(n){setTimeout(n,16)},h=0,c=0,m=[];n(),r.className="snow",document.body.appendChild(r);for(var i=0;i<c;i++)m.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,radius:4*Math.random()+1,direction:2*Math.random()-.5});addEventListener("resize",n),d(function n(){var i=window.innerWidth,e=window.innerHeight,t=r.getContext("2d");t.clearRect(0,0,i,e),t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),h+=.01;for(var a=0;a<c;a++){var o=m[a];o&&(t.moveTo(o.x,o.y),t.arc(o.x,o.y,o.radius,0,2*Math.PI,!0),o.y+=Math.cos(h)+o.radius/2,o.x+=Math.sin(h*o.direction),(o.x>i+5||o.x<-5||o.y>e)&&(0<a%3?(m[a].x=Math.random()*i,m[a].y=-10):(0<Math.sin(h*o.direction)?m[a].x=-5:m[a].x=i+5,m[a].y=Math.random()*e)))}t.fill(),d(n)})}()</script></body></html>